(function(t){function e(e){for(var i,o,r=e[0],l=e[1],c=e[2],u=0,p=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,r=1;r<a.length;r++){var l=a[r];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var i={},n={app:0},s=[];function o(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=i,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(a,i,function(e){return t[e]}.bind(null,i));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var i=a("85ec"),n=a.n(i);n.a},"106f":function(t,e,a){},2944:function(t,e,a){"use strict";var i=a("106f"),n=a.n(i);n.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("mMap")],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map"},[a("div",{staticClass:"header"},[a("div",{staticClass:"controls"},[a("span",{staticClass:"seting",class:{active:"seting"===t.active},on:{click:t.clickSeting}},[t._v("设置")]),a("span",{staticClass:"update-map-button",class:{active:"update-map"===t.active},on:{click:t.updateMap}},[t._v(" 更新随机地图 ")]),a("span",{staticClass:"minimal-path-button",class:{active:"select-start-end"===t.active},on:{click:function(e){return t.clickContent("select-start-end")}}},[t._v("选择起点和终点")])]),a("div",{staticClass:"info",style:{width:t.rowNum*t.G+2*t.left+"px"}},[a("span",{style:{paddingLeft:t.left+"px"}},[t._v("用时: "),t.timing?a("span",[t._v(t._s(t.timing)+" s")]):t._e()]),a("span",{staticStyle:{"padding-left":"1rem"}},[t._v("start: "+t._s(t.start))]),a("span",{staticStyle:{"padding-left":"1rem"}},[t._v("end: "+t._s(t.end))])])]),a("div",{staticClass:"content",style:{width:t.rowNum*t.G+2*t.left+"px",height:t.rowNum*t.G+t.top+"px"},on:{click:t.clickContent}},t._l(t.modelData,(function(e,i){return a("div",{key:i,staticClass:"grid",class:{start:"start"===e.type,end:"end"===e.type,roadblock:"roadblock"===e.type,passby:"passby"===e.type},style:{width:e.width+"px",height:e.height+"px",top:e.y+"px",left:e.x+"px"},attrs:{"data-index":e.index}},[t.showFGH?a("div",[t._v(" "+t._s(e.index)+" "),a("span",{staticStyle:{color:"#f02e33"}},[t._v(t._s(e.F))]),t._v(" "+t._s(e.G)+" "+t._s(e.H)+" ")]):t._e()])})),0),t.showModal?a("div",{staticClass:"modal-dom"},[a("div",{staticClass:"mask"}),a("div",{staticClass:"wrap"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-title"},[t._v("设置")]),a("div",{staticClass:"modal-body"},[a("div",[a("div",[t._v("宽高:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.setG,expression:"setG"}],attrs:{type:"number",min:2,max:100},domProps:{value:t.setG},on:{input:function(e){e.target.composing||(t.setG=e.target.value)}}})]),a("div",[a("div",[t._v("行列数:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.setRowNum,expression:"setRowNum"}],attrs:{type:"number",min:5,max:1e3},domProps:{value:t.setRowNum},on:{input:function(e){e.target.composing||(t.setRowNum=e.target.value)}}})]),a("div",[a("div",[t._v("FGH:")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.setShowFGH,expression:"setShowFGH"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.setShowFGH=e.target.multiple?a:a[0]}}},[a("option",{domProps:{value:!0}},[t._v("是")]),a("option",{domProps:{value:!1}},[t._v("否")])])])]),a("div",{staticClass:"modal-footer"},[a("div",{on:{click:function(e){t.showModal=!1}}},[t._v("取消")]),a("div",{on:{click:t.ok}},[t._v("确认")])])])])]):t._e()])},r=[],l=(a("a4d3"),a("e01a"),a("d28b"),a("4e82"),a("0d03"),a("4ec9"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("284c")),c=a("2fa7"),d=/mobile/gi.test(navigator.userAgent),u={name:"m-map",data:function(){return Object(c["a"])({modelData:[],modelMap:new Map,openList:[],start:null,end:null,endBlock:null,startBlock:null,date:null,timing:0,active:null,roadblock:[4,5,8,12,18,19,22,23,24,26,29,34,36,37,39,44,46,47,49,54,56,57,59,62,63,64,67,69,75,79,81,82,83,85,87,89,93,95],left:10,top:0,G:d?30:60,setG:d?30:60,rowNum:10,setRowNum:10,showFGH:!1,showModal:!1,setShowFGH:!1},"showFGH",!1)},mounted:function(){this.drawMap()},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},clickContent:function(t){if("select-start-end"===t){if(this.start||this.end)return;this.active="select-start-end"}else{var e=t.target.dataset;if("select-start-end"===this.active&&e&&e.index){var a=Number(e.index),i=this.modelMap.get(a);"roadblock"!==i.type&&(this.start?this.end||a===this.start||(this.active=null,this.end=a,this.endBlock=this.modelMap.get(this.end),this.endBlock.type="end",this.startBlock=this.modelMap.get(this.start),this.startBlock.type="start",this.date=Date.now(),this.handlePath(this.modelMap.get(this.start))):this.start=a)}}},selectStartEnd:function(){},drawMap:function(){var t=this.compurGrid(),e=!0,a=!1,i=void 0;try{for(var n,s=this.roadblock[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var o=n.value;this.modelMap.get(o).type="roadblock"}}catch(r){a=!0,i=r}finally{try{e||null==s.return||s.return()}finally{if(a)throw i}}this.modelData=t},compurGrid:function(){for(var t=this.left,e=this.top,a=this.rowNum,i=this.G,n=[],s=0;s<a;s++)for(var o=0;o<a;o++){var r=o+1+s*a,l={width:i,height:i,x:o*i+t,y:s*i+e,index:r,direction:[r-a,r%a===0?0:r+1,r+a,r%a===1?0:r-1]};n.push(l),this.modelMap.set(l.index,l)}return n},initData:function(){this.start=null,this.end=null,this.timing=null,this.modelData=[],this.modelMap.clear()},updateMap:function(){this.active="update-map",this.initData();for(var t=this.compurGrid(),e=new Array(this.rowNum*(this.rowNum-Math.floor(this.rowNum/2))),a=0,i=e;a<i.length;a++){i[a];this.modelMap.get(this.randomNum(1,this.rowNum*this.rowNum)).type="roadblock"}this.modelData=t,this.active=null},handlePath:function(){this.date=Date.now(),this.minimalPath(this.modelMap.get(this.start))},minimalPath:function(t){var e,a;this.pathScoring(t);while(this.openList.length&&"end"!==a){Object(l["a"])(this.openList);e=this.openList.pop(),a=e.type,this.pathScoring(e)}this.drawPath(e),this.timing=(Date.now()-this.date)/1e3,this.$forceUpdate()},drawPath:function(t){"end"!==t.type&&"start"!==t.type&&(t.type="passby"),t.parent&&this.drawPath(this.modelMap.get(t.parent))},computFGH:function(t,e){var a,i=t.x,n=t.y,s=(t.index,Math.abs(i-this.endBlock.x)+Math.abs(n-this.endBlock.y));a=e.G?e.G+this.G:Math.abs(i-this.startBlock.x)+Math.abs(n-this.startBlock.y);var o=s+a;t.H=s,t.G=a,t.F=o},pathScoring:function(t){t.width,t.index,t.x,t.y;var e=t.direction,a=!0,i=!1,n=void 0;try{for(var s,o=e[Symbol.iterator]();!(a=(s=o.next()).done);a=!0){var r=s.value,l=this.modelMap.get(r);l&&"roadblock"!==l.type&&"start"!==l.type&&"openList"!==l.type&&(this.computFGH(l,t),"end"!==l.type&&(l.type="openList"),l.parent=t.index,this.openList.push(l))}}catch(c){i=!0,n=c}finally{try{a||null==o.return||o.return()}finally{if(i)throw n}}this.openList.sort((function(t,e){return e.F-t.F}))},clickSeting:function(){this.showModal=!0,this.active="seting"},cancel:function(){this.active=null,this.showModal=!1},ok:function(){this.G=this.setG,this.rowNum=this.setRowNum,this.showFGH=this.setShowFGH,this.initData(),this.drawMap(),this.active=null,this.showModal=!1}}},p=u,h=(a("2944"),a("2877")),v=Object(h["a"])(p,o,r,!1,null,"c70be7a6",null),m=v.exports,f={name:"app",components:{mMap:m}},y=f,w=(a("034f"),Object(h["a"])(y,n,s,!1,null,null,null)),g=w.exports;i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(g)}}).$mount("#app")},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.eddcc9dc.js.map