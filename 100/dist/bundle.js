(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)})([function(module,exports,__webpack_require__){"use strict";var _Component=__webpack_require__(1);var _Component2=_interopRequireDefault(_Component);var _Game=__webpack_require__(2);var _Game2=_interopRequireDefault(_Game);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var grids=[{color:"#a1aafe",shape:[{x:0,y:0}],width:1,height:1},{color:"#ffb715",shape:[{x:0,y:0},{x:1,y:0}],width:2,height:1},{color:"#ffb715",shape:[{x:0,y:0},{x:0,y:1}],width:1,height:2},{color:"#fcb151",shape:[{x:0,y:0},{x:1,y:0},{x:2,y:0}],width:3,height:1},{color:"#fcb151",shape:[{x:0,y:0},{x:0,y:1},{x:0,y:2}],width:1,height:3},{color:"#b2ffcb",shape:[{x:0,y:0},{x:1,y:0},{x:1,y:1}],width:2,height:2},{color:"#b2ffcb",shape:[{x:0,y:0},{x:0,y:1},{x:1,y:1}],width:2,height:2},{color:"#b2ffcb",shape:[{x:1,y:0},{x:1,y:1},{x:0,y:1}],width:2,height:2},{color:"#b2ffcb",shape:[{x:0,y:0},{x:1,y:0},{x:1,y:1}],width:2,height:2},{color:"#ff92ff",shape:[{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:3,y:0}],width:4,height:1},{color:"#ff92ff",shape:[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3}],width:1,height:4},{color:"#85ff16",shape:[{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}],width:2,height:2},{color:"#fe6d4c",shape:[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:0,y:3},{x:0,y:4}],width:1,height:5},{color:"#fe6d4c",shape:[{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:3,y:0},{x:4,y:0}],width:5,height:1},{color:"#47e9fe",shape:[{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:2,y:1},{x:2,y:2}],width:3,height:3},{color:"#47e9fe",shape:[{x:0,y:0},{x:0,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2}],width:3,height:3},{color:"#47e9fe",shape:[{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:0,y:1},{x:0,y:2}],width:3,height:3},{color:"#47e9fe",shape:[{x:2,y:0},{x:2,y:1},{x:2,y:2},{x:1,y:2},{x:0,y:2}],width:3,height:3},{color:"#00ffe0",shape:[{x:0,y:0},{x:1,y:0},{x:2,y:0},{x:0,y:1},{x:1,y:1},{x:2,y:1},{x:0,y:2},{x:1,y:2},{x:2,y:2}],width:3,height:3}];var de=document.documentElement;var screenWidth=de.clientWidth;var size=screenWidth<=320?25:30;_Component2.default.initSharedState({gridData:grids,normalSize:size,smallSize:15,spaing:2,rows:10,cols:10,num:0});ReactDOM.render(React.createElement(_Game2.default,null),document.querySelector("#root"))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var clone=function(){var s=/str|num|boo|und/,f=/fun/,m=/date|rege/i;return function(json){var buffer=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new Map;var t=void 0,i=void 0,r=void 0;t=typeof json==="undefined"?"undefined":_typeof(json);if(s.test(t)||!json)return json;if(f.test(t))return new Function("return "+json.toString())();if(m.test(json.constructor))return new json.constructor(json.valueOf());i=buffer.get(json);if(i>1){return void 0}else{buffer.set(json,++i||1)}r="length"in json?[]:{};for(i in json){if(json.hasOwnProperty(i))r[i]=clone(json[i],buffer)}return r}}();var equal=function(){var s=/num|str|boo/,f=/fun/,m=/date|rege/i;return function(a,b){var t=void 0,i=void 0,c=void 0;t=typeof a==="undefined"?"undefined":_typeof(a);if(a===b)return true;if(t!==(typeof b==="undefined"?"undefined":_typeof(b)))return false;if(a!==a&&b!==b)return true;if(s.test(t)||!a||!b)return a===b;if(f.test(t)||m.test(a.constructor))return a.toString()===b.toString();c=new Map;Object.keys(a).concat(Object.keys(b)).forEach(function(i){return c.set(i,1)});var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=c[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){i=_step.value;if(!equal(a[i[0]],b[i[0]]))return false}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return true}}();var allComponents=[];var globalStore={};var Component=function(_React$Component){_inherits(Component,_React$Component);function Component(props){_classCallCheck(this,Component);var _this=_possibleConstructorReturn(this,(Component.__proto__||Object.getPrototypeOf(Component)).call(this,props));_this.uniqueId=Math.random().toString(36).slice(2);_this.sharedState={};_this.storeUpSharedState={};allComponents.push(_this);return _this}_createClass(Component,[{key:"importSharedState",value:function importSharedState(){for(var _len=arguments.length,names=Array(_len),_key=0;_key<_len;_key++){names[_key]=arguments[_key]}var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=names[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var name=_step2.value;var state=globalStore[name];if(state===undefined)state=globalStore[name]={};if(this.storeUpSharedState[name]===undefined)this.storeUpSharedState[name]=clone(state);this.sharedState=globalStore}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}}},{key:"assign",value:function assign(prop){var _this2=this;return function(element){return _this2[prop]=element}}},{key:"updateSharedState",value:function updateSharedState(){var shouldUpdateComponents={};for(var _len2=arguments.length,names=Array(_len2),_key2=0;_key2<_len2;_key2++){names[_key2]=arguments[_key2]}var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=names[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var name=_step3.value;if(this.sharedState[name]===undefined)continue;var state=this.sharedState[name];var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=allComponents[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var component=_step4.value;if(!equal(component.storeUpSharedState[name],state)){component.sharedState[name]=state;component.storeUpSharedState[name]=clone(state);shouldUpdateComponents[component.uniqueId]=component}}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}Object.keys(shouldUpdateComponents).forEach(function(key){shouldUpdateComponents[key].forceUpdate()})}}],[{key:"initSharedState",value:function initSharedState(store){for(var name in store){if(store.hasOwnProperty(name))globalStore[name]=store[name]}}}]);return Component}(React.Component);exports.default=Component},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(obj){return typeof obj}:function(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _Component2=__webpack_require__(1);var _Component3=_interopRequireDefault(_Component2);__webpack_require__(3);var _drag=__webpack_require__(7);var _drag2=_interopRequireDefault(_drag);var _closest=__webpack_require__(10);var _closest2=_interopRequireDefault(_closest);var _HTML=__webpack_require__(11);var _HTML2=_interopRequireDefault(_HTML);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return call&&(typeof call==="object"||typeof call==="function")?call:self}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var Game=function(_Component){_inherits(Game,_Component);function Game(props){_classCallCheck(this,Game);var _this=_possibleConstructorReturn(this,(Game.__proto__||Object.getPrototypeOf(Game)).call(this,props));_this.importSharedState("cols","rows","gridData","normalSize","spaing","smallSize");var de=document.documentElement;var _this$sharedState=_this.sharedState,rows=_this$sharedState.rows,cols=_this$sharedState.cols,spaing=_this$sharedState.spaing,normalSize=_this$sharedState.normalSize;_this.screenWidth=de.clientWidth;_this.gameTop=80;_this.gameSize=rows*normalSize+(rows-1)*spaing;_this.gameLeft=(_this.screenWidth-_this.gameSize)/2;_this.gameContainer=[];_this.gridsArr;_this.gridsBlock;_this.addBlock=new Map;_this.score=new Map;_this.Result;_this.count=0;_this.scoreEl=null;_this.num=0;window.addEventListener("touchmove",function(e){return e.preventDefault()},false);return _this}_createClass(Game,[{key:"blockBgContainer",value:function blockBgContainer(){var _sharedState=this.sharedState,cols=_sharedState.cols,rows=_sharedState.rows,normalSize=_sharedState.normalSize,spaing=_sharedState.spaing;for(var y=0;y<cols;y++){for(var x=0;x<rows;x++){this.gameContainer.push({left:x*normalSize+x*spaing+"px",top:y*normalSize+y*spaing+"px",backgroundColor:"#4b4b4b",width:normalSize+"px",height:normalSize+"px",borderRadius:"6px"})}}return React.createElement("div",{className:"game-container",style:{left:this.gameLeft+"px",top:this.gameTop+"px"}},this.gameContainer.map(function(el,index){return React.createElement("div",{className:"grid-item",key:index,style:el})}))}},{key:"gridBlock",value:function gridBlock(gridData,shape){return shape.map(function(el,index){return React.createElement("div",{key:index,className:"block x"+el.x+" y"+el.y,style:{backgroundColor:gridData.color}})})}},{key:"gridsBlockStyle",value:function gridsBlockStyle(x,width,height){var _sharedState2=this.sharedState,rows=_sharedState2.rows,cols=_sharedState2.cols,spaing=_sharedState2.spaing,normalSize=_sharedState2.normalSize,smallSize=_sharedState2.smallSize;var gameSize=this.gameSize,gameLeft=this.gameLeft,gameTop=this.gameTop;return{left:(x?x===1?gameLeft+(gameSize-width*(smallSize+(width-1)*1))/2:gameLeft+gameSize-width*(smallSize+width*1):gameLeft)+"px",top:gameTop+gameSize+60-height*(smallSize+(height-1)*1)/2+"px"}}},{key:"createGrid",value:function createGrid(){var _this2=this;var _sharedState3=this.sharedState,cols=_sharedState3.cols,rows=_sharedState3.rows,normalSize=_sharedState3.normalSize,spaing=_sharedState3.spaing,gridData=_sharedState3.gridData;var gameSize=this.gameSize,gameLeft=this.gameLeft,gameTop=this.gameTop;this.gridsArr=[];for(var i=0;i<3;i++){this.gridsArr.push(gridData[Math.floor(Math.random()*gridData.length)])}return React.createElement("div",{className:"grids"},this.gridsArr.map(function(item,index){return React.createElement("div",{className:"grids-block","data-index":""+index,key:Math.random(),style:_this2.gridsBlockStyle(index,item.width,item.height)},React.createElement("div",{className:"small block"},_this2.gridBlock(item,item.shape)))}))}},{key:"blockListBox",value:function blockListBox(){var _sharedState4=this.sharedState,cols=_sharedState4.cols,rows=_sharedState4.rows,normalSize=_sharedState4.normalSize,spaing=_sharedState4.spaing,gridData=_sharedState4.gridData;this.Result=[];var grids=this.createGrid();this.Result.push(grids);return this.Result}},{key:"onMoving",value:function onMoving(el,position){el.style.left=position[0]+"px";el.style.top=position[1]+"px"}},{key:"returnHomePosition",value:function returnHomePosition(el,homePosition){el.style.left=homePosition[0]+"px";el.style.top=homePosition[1]+"px";this.gridsBlock.firstChild.classList.add("small");this.gridsBlock.firstChild.classList.remove("normal")}},{key:"up",value:function up(el,position,homePosition){var block=this.gridsArr[el.dataset.index];var game=ReactDOM.findDOMNode(this);var _sharedState5=this.sharedState,cols=_sharedState5.cols,rows=_sharedState5.rows,normalSize=_sharedState5.normalSize,spaing=_sharedState5.spaing;var gameSize=this.gameSize,gameLeft=this.gameLeft,gameTop=this.gameTop;var x=position[0]-gameLeft;var y=position[1]-gameTop;var X=Math.round(x/(normalSize+spaing));var Y=Math.round(y/(normalSize+spaing));var left=X*(normalSize+spaing)+gameLeft;var top=Y*(normalSize+spaing)+gameTop;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=block.shape[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var _item4=_step.value;if(this.addBlock.has(Y+_item4.y+""+(X+_item4.x))){this.returnHomePosition(el,homePosition);return}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(X<0||X+block.width>10||Y<0||Y+block.height>10){this.returnHomePosition(el,homePosition)}else{var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=block.shape[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var item=_step2.value;var html=(0,_HTML2.default)("<div style=\"\n          left:"+(item.x?left+item.x*spaing+item.x*normalSize:left)+"px;top:"+(item.y?top+item.y*spaing+item.y*normalSize:top)+"px;background-color:"+block.color+"; width:"+normalSize+"px; height:"+normalSize+"px; position:absolute;border-radius: 6px;\"></div>").append(game);this.addBlock.set(Y+item.y+""+(item.x+X),html);if(this.score.has("x"+(X+item.x)))this.score.get("x"+(X+item.x)).s++;else this.score.set("x"+(X+item.x),{s:1});if(this.score.has("y"+(Y+item.y)))this.score.get("y"+(Y+item.y)).s++;else this.score.set("y"+(Y+item.y),{s:1})}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}var eliminateScore=0;this.num+=block.shape.length;var scoreArr=[];var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=this.score[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var _item=_step3.value;if(_item[1].s===10){var index=_item[0][0]==="y"?0:1;var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=this.addBlock[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var i=_step6.value;if(i[0][index]===_item[0][1]){i[1].parentNode.removeChild(i[1]);this.addBlock.delete(i[0])}}}catch(err){_didIteratorError6=true;_iteratorError6=err}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return){_iterator6.return()}}finally{if(_didIteratorError6){throw _iteratorError6}}}scoreArr.push(_item[0])}}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=scoreArr[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var _item2=_step4.value;var _index=_item2[0]==="y"?"x":"y";for(var _i=0;_i<rows;_i++){this.score.get(_index+_i).s--}}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}eliminateScore=scoreArr.length*10;var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=scoreArr[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var _item3=_step5.value;this.score.get(_item3).s=0;scoreArr=[]}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return){_iterator5.return()}}finally{if(_didIteratorError5){throw _iteratorError5}}}this.scoreEl.innerHTML=this.num+eliminateScore;this.count++;this.gridsArr.splice(el.dataset.index,1,null);if(this.count%3===0){this.Result=[];this.forceUpdate()}el.style.display="none";el.style.left=left+"px";el.style.top=top+"px";this.gameOver(this.gridsArr)}}},{key:"appropriate",value:function appropriate(block){var _this3=this;var _sharedState6=this.sharedState,rows=_sharedState6.rows,cols=_sharedState6.cols,spaing=_sharedState6.spaing,normalSize=_sharedState6.normalSize,smallSize=_sharedState6.smallSize;var shape=block.shape;var _loop=function _loop(y){var _loop2=function _loop2(x){if(shape.every(function(s){return!_this3.addBlock.has(""+(y+s.y)+(x+s.x))}))return{v:{v:true}}};for(var x=0;x<=cols-block.width;x++){var _ret2=_loop2(x);if((typeof _ret2==="undefined"?"undefined":_typeof(_ret2))==="object")return _ret2.v}};for(var y=0;y<=rows-block.height;y++){var _ret=_loop(y);if((typeof _ret==="undefined"?"undefined":_typeof(_ret))==="object")return _ret.v}return false}},{key:"gameOver",value:function gameOver(block){var game=ReactDOM.findDOMNode(this);if(this.addBlock.size>30){if(!block.filter(function(el){return el}).some(this.appropriate.bind(this))){var header=(0,_HTML2.default)("<div class=\"game-over\" style=\"left:"+(this.gameLeft+20)+"px;\"><span>GAME OVER</span><input type=\"button\" value=\"\u91CD\u73A9\" /></div>").append(game);header.lastChild.addEventListener("click",function(event){window.location.reload()},false)}}}},{key:"componentDidMount",value:function componentDidMount(){var _this4=this;var game=ReactDOM.findDOMNode(this);var _sharedState7=this.sharedState,rows=_sharedState7.rows,cols=_sharedState7.cols,spaing=_sharedState7.spaing,normalSize=_sharedState7.normalSize,smallSize=_sharedState7.smallSize;var gameSize=this.gameSize,gameLeft=this.gameLeft,gameTop=this.gameTop;var isMobile=function isMobile(){return /mobile/gi.test(navigator.userAgent)};var touchStart=isMobile()?"touchstart":"mousedown";var touchMove=isMobile()?"touchmove":"mousemove";if(!this.scoreEl)this.scoreEl=(0,_HTML2.default)("<div class=\"score\" style=\"left: "+(gameLeft+20)+"px; top: "+(gameTop/2-5)+"px;\">0</div>").append(game);game.addEventListener(touchStart,function(event){_this4.gridsBlock=(0,_closest2.default)(event.target,".grids-block");if(_this4.gridsBlock){var firstChild=_this4.gridsBlock.firstChild;firstChild.classList.remove("small");firstChild.classList.add("normal");firstChild.style.zIndex=2;(0,_drag2.default)(event,_this4.onMoving.bind(_this4),_this4.up.bind(_this4))}},false);window.addEventListener("orientationchange",function(e){console.log(1);if(orientation===90){game.style.transformOrigin="50% 60%";game.style.transform="rotate( -90deg )"}},false)}},{key:"render",value:function render(){return React.createElement("div",{className:"game"},this.blockBgContainer(),this.blockListBox())}}]);return Game}(_Component3.default);exports.default=Game},function(module,exports,__webpack_require__){var content=__webpack_require__(4);if(typeof content==="string")content=[[module.id,content,""]];var update=__webpack_require__(6)(content,{});if(content.locals)module.exports=content.locals;if(false){if(!content.locals){module.hot.accept("!!./../../../../../../../global-gulp/node_modules/css-loader/index.js!./../../../../../../../global-gulp/node_modules/sass-loader/index.js!./Game.scss",function(){var newContent=require("!!./../../../../../../../global-gulp/node_modules/css-loader/index.js!./../../../../../../../global-gulp/node_modules/sass-loader/index.js!./Game.scss");if(typeof newContent==="string")newContent=[[module.id,newContent,""]];update(newContent)})}module.hot.dispose(function(){update()})}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)();exports.push([module.id,"html, body {\n  background-color: #262626; }\n\n.game {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0; }\n\n.score {\n  position: absolute;\n  color: #fff;\n  font-size: 30px; }\n\n.grid-item {\n  position: absolute; }\n\n.game-container {\n  position: absolute; }\n\n.grids {\n  position: absolute; }\n  .grids .grids-block {\n    position: absolute; }\n    .grids .grids-block .small.block {\n      position: absolute; }\n      .grids .grids-block .small.block .block {\n        position: absolute;\n        width: 15px;\n        height: 15px;\n        border-radius: 3px; }\n      .grids .grids-block .small.block .x0 {\n        left: 0px; }\n      .grids .grids-block .small.block .x1 {\n        left: 16px; }\n      .grids .grids-block .small.block .x2 {\n        left: 32px; }\n      .grids .grids-block .small.block .x3 {\n        left: 48px; }\n      .grids .grids-block .small.block .x4 {\n        left: 64px; }\n      .grids .grids-block .small.block .y0 {\n        top: 0px; }\n      .grids .grids-block .small.block .y1 {\n        top: 16px; }\n      .grids .grids-block .small.block .y2 {\n        top: 32px; }\n      .grids .grids-block .small.block .y3 {\n        top: 48px; }\n      .grids .grids-block .small.block .y4 {\n        top: 64px; }\n\n.grids {\n  position: absolute; }\n  .grids .grids-block {\n    position: absolute; }\n    .grids .grids-block .normal.block {\n      position: absolute; }\n      .grids .grids-block .normal.block .block {\n        position: absolute;\n        width: 30px;\n        height: 30px;\n        border-radius: 6px; }\n      .grids .grids-block .normal.block .x0 {\n        left: 0px; }\n      .grids .grids-block .normal.block .x1 {\n        left: 32px; }\n      .grids .grids-block .normal.block .x2 {\n        left: 64px; }\n      .grids .grids-block .normal.block .x3 {\n        left: 96px; }\n      .grids .grids-block .normal.block .x4 {\n        left: 128px; }\n      .grids .grids-block .normal.block .y0 {\n        top: 0px; }\n      .grids .grids-block .normal.block .y1 {\n        top: 32px; }\n      .grids .grids-block .normal.block .y2 {\n        top: 64px; }\n      .grids .grids-block .normal.block .y3 {\n        top: 96px; }\n      .grids .grids-block .normal.block .y4 {\n        top: 128px; }\n\n.game-over {\n  position: absolute; }\n  .game-over span {\n    font-size: 30px;\n    color: #FD0A19; }\n  .game-over input {\n    font-size: 30px;\n    background-color: #262626;\n    color: #3058FD; }\n",""])},function(module,exports){"use strict";module.exports=function(){var list=[];list.toString=function toString(){var result=[];for(var i=0;i<this.length;i++){var item=this[i];if(item[2]){result.push("@media "+item[2]+"{"+item[1]+"}")}else{result.push(item[1])}}return result.join("")};list.i=function(modules,mediaQuery){if(typeof modules==="string")modules=[[null,modules,""]];var alreadyImportedModules={};for(var i=0;i<this.length;i++){var id=this[i][0];if(typeof id==="number")alreadyImportedModules[id]=true}for(i=0;i<modules.length;i++){var item=modules[i];if(typeof item[0]!=="number"||!alreadyImportedModules[item[0]]){if(mediaQuery&&!item[2]){item[2]=mediaQuery}else if(mediaQuery){item[2]="("+item[2]+") and ("+mediaQuery+")"}list.push(item)}}};return list}},function(module,exports,__webpack_require__){var stylesInDom={},memoize=function(fn){var memo;return function(){if(typeof memo==="undefined")memo=fn.apply(this,arguments);return memo}},isOldIE=memoize(function(){return /msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),getHeadElement=memoize(function(){return document.head||document.getElementsByTagName("head")[0]}),singletonElement=null,singletonCounter=0,styleElementsInsertedAtTop=[];module.exports=function(list,options){if(false){if(typeof document!=="object")throw new Error("The style-loader cannot be used in a non-browser environment")}options=options||{};if(typeof options.singleton==="undefined")options.singleton=isOldIE();if(typeof options.insertAt==="undefined")options.insertAt="bottom";var styles=listToStyles(list);addStylesToDom(styles,options);return function update(newList){var mayRemove=[];for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];domStyle.refs--;mayRemove.push(domStyle)}if(newList){var newStyles=listToStyles(newList);addStylesToDom(newStyles,options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(domStyle.refs===0){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i];var domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++){domStyle.parts[j](item.parts[j])}for(;j<item.parts.length;j++){domStyle.parts.push(addStyle(item.parts[j],options))}}else{var parts=[];for(var j=0;j<item.parts.length;j++){parts.push(addStyle(item.parts[j],options))}stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list){var styles=[];var newStyles={};for(var i=0;i<list.length;i++){var item=list[i];var id=item[0];var css=item[1];var media=item[2];var sourceMap=item[3];var part={css:css,media:media,sourceMap:sourceMap};if(!newStyles[id])styles.push(newStyles[id]={id:id,parts:[part]});else newStyles[id].parts.push(part)}return styles}function insertStyleElement(options,styleElement){var head=getHeadElement();var lastStyleElementInsertedAtTop=styleElementsInsertedAtTop[styleElementsInsertedAtTop.length-1];if(options.insertAt==="top"){if(!lastStyleElementInsertedAtTop){head.insertBefore(styleElement,head.firstChild)}else if(lastStyleElementInsertedAtTop.nextSibling){head.insertBefore(styleElement,lastStyleElementInsertedAtTop.nextSibling)}else{head.appendChild(styleElement)}styleElementsInsertedAtTop.push(styleElement)}else if(options.insertAt==="bottom"){head.appendChild(styleElement)}else{throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")}}function removeStyleElement(styleElement){styleElement.parentNode.removeChild(styleElement);var idx=styleElementsInsertedAtTop.indexOf(styleElement);if(idx>=0){styleElementsInsertedAtTop.splice(idx,1)}}function createStyleElement(options){var styleElement=document.createElement("style");styleElement.type="text/css";insertStyleElement(options,styleElement);return styleElement}function createLinkElement(options){var linkElement=document.createElement("link");linkElement.rel="stylesheet";insertStyleElement(options,linkElement);return linkElement}function addStyle(obj,options){var styleElement,update,remove;if(options.singleton){var styleIndex=singletonCounter++;styleElement=singletonElement||(singletonElement=createStyleElement(options));update=applyToSingletonTag.bind(null,styleElement,styleIndex,false);remove=applyToSingletonTag.bind(null,styleElement,styleIndex,true)}else if(obj.sourceMap&&typeof URL==="function"&&typeof URL.createObjectURL==="function"&&typeof URL.revokeObjectURL==="function"&&typeof Blob==="function"&&typeof btoa==="function"){styleElement=createLinkElement(options);update=updateLink.bind(null,styleElement);remove=function(){removeStyleElement(styleElement);if(styleElement.href)URL.revokeObjectURL(styleElement.href)}}else{styleElement=createStyleElement(options);update=applyToTag.bind(null,styleElement);remove=function(){removeStyleElement(styleElement)}}update(obj);return function updateStyle(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else{remove()}}}var replaceText=function(){var textStore=[];return function(index,replacement){textStore[index]=replacement;return textStore.filter(Boolean).join("\n")}}();function applyToSingletonTag(styleElement,index,remove,obj){var css=remove?"":obj.css;if(styleElement.styleSheet){styleElement.styleSheet.cssText=replaceText(index,css)}else{var cssNode=document.createTextNode(css);var childNodes=styleElement.childNodes;if(childNodes[index])styleElement.removeChild(childNodes[index]);if(childNodes.length){styleElement.insertBefore(cssNode,childNodes[index])}else{styleElement.appendChild(cssNode)}}}function applyToTag(styleElement,obj){var css=obj.css;var media=obj.media;if(media){styleElement.setAttribute("media",media)}if(styleElement.styleSheet){styleElement.styleSheet.cssText=css}else{while(styleElement.firstChild){styleElement.removeChild(styleElement.firstChild)}styleElement.appendChild(document.createTextNode(css))}}function updateLink(linkElement,obj){var css=obj.css;var sourceMap=obj.sourceMap;if(sourceMap){css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */"}var blob=new Blob([css],{type:"text/css"});var oldSrc=linkElement.href;linkElement.href=URL.createObjectURL(blob);if(oldSrc)URL.revokeObjectURL(oldSrc)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _eventHelps=__webpack_require__(8);var _eventHelps2=_interopRequireDefault(_eventHelps);var _distance=__webpack_require__(9);var _distance2=_interopRequireDefault(_distance);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var drag=function drag(event,move,up){var movingPosition=void 0,touchStart=void 0,touchMove=void 0,touchEnd=void 0,offsetPosition=void 0;var element=event.target.parentNode.parentNode;var getBounding=element.getBoundingClientRect();var position=[getBounding.left,getBounding.top];var currentPosition=[event.pageX-position[0],event.pageY-position[1]];event.preventDefault();move=move||Function();up=up||Function();var isMobile=function isMobile(){return /mobile/gi.test(navigator.userAgent)};touchStart=isMobile()?"touchstart":"mousedown";touchMove=isMobile()?"touchmove":"mousemove";touchEnd=isMobile()?"touchend":"mouseup";var moving=function moving(event){movingPosition=[event.pageX,event.pageY];offsetPosition=[movingPosition[0]-currentPosition[0],movingPosition[1]-currentPosition[1]];if((0,_distance2.default)(currentPosition,movingPosition)>6)move(element,offsetPosition)};var end=function end(){up(element,offsetPosition,position);_eventHelps2.default.off(document,touchMove,moving);_eventHelps2.default.off(document,touchEnd,end)};_eventHelps2.default.on(document,touchMove,moving);_eventHelps2.default.on(document,touchEnd,end)};exports.default=drag},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var eventHelps={on:function on(element,type,fn){if(element.addEventListener){element.addEventListener(type,fn,false)}else if(element.attachEvent){element.attachEvent("on"+type,fn)}else element["on"+type]=fn},off:function off(element,type,fn){if(element.removeEventListener){element.removeEventListener(type,fn,false)}else if(element.detachEvent){element.detachEvent("on"+type,fn)}else{element["on"+type]=null}}};exports.default=eventHelps},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var distance=function distance(positionA,positionB){return Math.sqrt(Math.pow(positionA[0]-positionB[0],2)+Math.pow(positionA[0]-positionB[0],2))};exports.default=distance},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.closest=closest;function closest(el,string){var regexp=/^\./;var initialEl=el;if(regexp.test(string)){while(el&&el.tagName&&el.className!==string.replace(regexp,"")){el=el.parentNode}}else{while(el&&el.tagName&&el.tagName.toLowerCase()!==tagName.toLowerCase()){el=el.parentNode}}return el.tagName?el:null};exports.default=closest},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var html=function(){var html=function html(_html){this.html=_html};html.prototype.getElementsByHtml=function(html){var elt=document.createElementNS("xml","x");elt.innerHTML=Array.isArray(html)?html.join(""):html;var eltChildNodes=elt.childNodes;return[].slice.call(eltChildNodes,0)};html.prototype.innerHTML=function(container,element,html){var htmls=this.getElementsByHtml(this.html);htmls.forEach(function(item){container.insertBefore(item,element)});return htmls.length===1?htmls[0]:htmls};html.prototype.append=function(container,html){return this.innerHTML(container,null,this.html)};html.prototype.prepend=function(container,html){return this.innerHTML(container,container.firstChild,this.html)};html.prototype.before=function(element,html){return this.innerHTML(element.parentNode,element,this.html)};html.prototype.after=function(element,html){return this.innerHTML(element.parentNode,element.nextSibling,this.html)};html.prototype.replace=function(element,html){var htmls=this.getElementsByHtml(this.html);htmls.forEach(function(item){element.parentNode.insertBefore(item,element)});return element.parentNode.removeChild(element)};return function(h){return new html(h)}}();exports.default=html}]);