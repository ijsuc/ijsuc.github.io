(function(e){function t(t){for(var n,i,o=t[0],s=t[1],u=t[2],p=0,y=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&y.push(a[i][0]),a[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(y.length)y.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,o=1;o<r.length;o++){var s=r[o];0!==a[s]&&(n=!1)}n&&(c.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},c=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=s;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},2395:function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},c=[],i=(r("7c55"),r("2877")),o={},s=Object(i["a"])(o,a,c,!1,null,null,null),u=s.exports,l=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"fights"},[r("ChessMap",[e._l(e.pieceData,(function(t,n){return r("Piece",{key:n,attrs:{piece:t},nativeOn:{click:function(r){return e.clickPiece(t)}}})})),e._l(e.indicatorPos,(function(t){return r("Indicator",{key:t.x+" "+t.y,attrs:{pos:e.computPos(t.x,t.y),price:t.price,width:e.getConfig.chessBoardGirdSize[0],height:e.getConfig.chessBoardGirdSize[1]},nativeOn:{click:function(r){return e.clickIndicator(t)}}})}))],2)],1)},y=[],f=(r("a4d3"),r("e01a"),r("d28b"),r("99af"),r("4de4"),r("d81d"),r("4ec9"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0"),r("3835")),h=r("ade3"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"chess-map",style:{width:e.getConfig.width+"px",height:e.getConfig.height+"px"}},[e._t("default")],2)},d=[],x=r("2f62");function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={name:"chessMap",computed:g({},Object(x["b"])(["getConfig"])),mounted:function(){},methods:{}},m=w,O=(r("a8f1"),Object(i["a"])(m,b,d,!1,null,"4bed4b90",null)),j=O.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"price-map",class:e.piece.className,style:{width:e.piece.width+"px",height:e.piece.height+"px",top:e.piece.top+"px",left:e.piece.left+"px"}})},k=[],M={name:"piece",props:{piece:Object},data:function(){return{}},mounted:function(){},methods:{}},S=M,_=(r("db8b"),Object(i["a"])(S,P,k,!1,null,"0576438b",null)),C=_.exports,D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"indicator",style:{width:e.width+"px",height:e.height+"px",left:e.pos.left+"px",top:e.pos.top+"px"}},[e._v(" "+e._s(e.price)+" ")])},B=[],G=(r("a9e3"),{name:"indicator",props:{pos:Object,width:Number,height:Number,price:Number},data:function(){return{}},mounted:function(){},methods:{}}),E=G,z=(r("fe13"),Object(i["a"])(E,D,B,!1,null,"314d08a6",null)),I=z.exports,$=function(e,t){return e>=0&&e<9&&t>=0&&t<10},N=function(e,t){return e>2&&e<6&&(t>=0&&t<3||t<=9&&t>6)},T=[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}],A={king:{rule:function(e,t){var r,n,a,c=[],i=[],o=!0,s=!1,u=void 0;try{for(var l,p=T[Symbol.iterator]();!(o=(l=p.next()).done);o=!0){var y=l.value,h=e.x+y.x,b=e.y+y.y;N(h,b)&&((r=t.get("".concat(b,",").concat(h)))&&r.base===e.base||c.push({x:h,y:b,piece:e}))}}catch(P){s=!0,u=P}finally{try{o||null==p.return||p.return()}finally{if(s)throw u}}var d=!0,x=!1,v=void 0;try{for(var g,w=t[Symbol.iterator]();!(d=(g=w.next()).done);d=!0){var m=Object(f["a"])(g.value,2),O=(m[0],m[1]);"king"===O.type&&"red"===O.base&&(n=O),"king"===O.type&&"black"===O.base&&(a=O)}}catch(P){x=!0,v=P}finally{try{d||null==w.return||w.return()}finally{if(x)throw v}}if(n.x===a.x){for(var j=a.y+1;j<n.y;j++)i.push(t.has("".concat(j,",").concat(n.x)));i.every((function(e){return!1===e}))&&c.push({x:a.x,y:a.y,piece:e},{x:n.x,y:n.y,piece:e})}return c}},guard:{rule:function(e,t){var r,n=[],a=!0,c=!1,i=void 0;try{for(var o,s=this.steps[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var u=o.value,l=e.x+u.x,p=e.y+u.y;N(l,p)&&((r=t.get("".concat(p,",").concat(l)))&&r.base===e.base||n.push({x:l,y:p,piece:e}))}}catch(y){c=!0,i=y}finally{try{a||null==s.return||s.return()}finally{if(c)throw i}}return n},steps:[{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1}]},eleph:{rule:function(e,t){for(var r,n=[],a=0;a<this.steps.length;a++){var c=this.steps[a],i=this.obstac[a],o=e.x+c.x,s=e.y+c.y,u=e.x+i.x,l=e.y+i.y;!$(o,s)||this.isInDomain(s)||t.get("".concat(l,",").concat(u))||((r=t.get("".concat(s,",").concat(o)))&&r.base===e.base||n.push({x:o,y:s,piece:e}))}return n},isInDomain:function(e){return 3===e||6===e},obstac:[{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1}],steps:[{x:2,y:-2},{x:2,y:2},{x:-2,y:2},{x:-2,y:-2}]},rook:{rule:function(e,t){var r,n=[],a=[1,1,1,1],c=1;while(1){if(a.every((function(e){return 0===e})))break;for(var i=0;i<T.length;i++){var o=T[i],s=e.x+o.x*c,u=e.y+o.y*c;if($(s,u))if(r=t.get("".concat(u,",").concat(s))){if(r.base!==e.base&&a[i]){n.push({x:s,y:u}),a[i]=0;continue}a[i]=0}else a[i]&&n.push({x:s,y:u,price:price});else a[i]=0}c++}return n}},horse:{rule:function(e,t){for(var r=[],n=0;n<T.length;n++){var a=T[n],c=void 0,i=e.x+a.x,o=e.y+a.y;if(!t.has("".concat(o,",").concat(i))){var s=!0,u=!1,l=void 0;try{for(var p,y=this.steps[n][Symbol.iterator]();!(s=(p=y.next()).done);s=!0){var f=p.value,h=e.x+f.x,b=e.y+f.y;$(h,b)&&((c=t.get("".concat(b,",").concat(h)))&&e.base===c.base||r.push({x:h,y:b,piece:e}))}}catch(d){u=!0,l=d}finally{try{s||null==y.return||y.return()}finally{if(u)throw l}}}}return r},steps:[[{x:-1,y:-2},{x:1,y:-2}],[{x:2,y:-1},{x:2,y:1}],[{x:1,y:2},{x:-1,y:2}],[{x:-2,y:1},{x:-2,y:-1}]]},pawn:{rule:function(e,t,r){var n=[],a="red"===e.base?e.y<5:e.y>4,c=!0,i=!1,o=void 0;try{for(var s,u=T[Symbol.iterator]();!(c=(s=u.next()).done);c=!0){var l=s.value,p=e.x+l.x,y=e.y+l.y,f=void 0;1===l.y&&"red"===e.base||-1===l.y&&"black"===e.base||$(p,y)&&(a||0===l.x)&&((f=t.get("".concat(y,",").concat(p)))&&f.base===e.base||n.push({x:p,y:y,piece:e}))}}catch(h){i=!0,o=h}finally{try{c||null==u.return||u.return()}finally{if(i)throw o}}return n}},cannon:{rule:function(e,t){var r,n=[],a=[1,1,1,1],c=[0,0,0,0],i=1;while(1){if(a.every((function(e){return 0===e})))break;for(var o=0;o<T.length;o++){var s=T[o],u=e.x+s.x*i,l=e.y+s.y*i;$(u,l)?(r=t.get("".concat(l,",").concat(u)))?(c[o]++,2===c[o]&&r.base!==e.base&&n.push({x:u,y:l})):c[o]||n.push({x:u,y:l,piece:e}):a[o]=0}i++}return n}}},J=A,K=(r("25f0"),r("53ca")),L=function(){var e=/str|num|boo|und/,t=/fun/,r=/date|rege/i;return function(n){var a,c,i;if(a=Object(K["a"])(n),e.test(a)||!n)return n;if(t.test(a))return new Function("return "+n.toString())();if(r.test(n.constructor))return new n.constructor(n.valueOf());for(c in i="length"in n?[]:{},n)n.hasOwnProperty(c)&&(i[c]=L(n[c]));return i}}(),R=L,F={double:[{x:4,y:0,base:"black",type:"king",label:"将"},{x:4,y:9,base:"red",type:"king",label:"将"},{x:0,y:6,base:"red",type:"pawn",label:"兵"},{x:2,y:6,base:"red",type:"pawn",label:"兵"},{x:4,y:6,base:"red",type:"pawn",label:"兵"},{x:6,y:6,base:"red",type:"pawn",label:"兵"},{x:8,y:6,base:"red",type:"pawn",label:"兵"}]},q=F;function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){Object(h["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U={name:"fights",components:{ChessMap:j,Piece:C,Indicator:I},data:function(){return{chessMap:new Map,blackMap:new Map,redMap:new Map,historyStep:[],pieceData:[],redGo:!0,indicatorPos:[],redKing:null,blackKing:null,selectedPiece:null,cloneChessMap:new Map,treeDepth:4}},computed:Q({},Object(x["b"])(["getPieces","getConfig"])),watch:{redGo:function(e){}},created:function(){this.initMap()},methods:{initMap:function(){var e=this,t=this.getConfig.chessBoardGirdSize;this.pieceData=q.double.map((function(r){var n=e.computPos(r.x,r.y),a="".concat(r.y,",").concat(r.x),c={key:a,className:"".concat(r.base," ").concat(r.type),type:r.type,base:r.base,left:n.left,top:n.top,x:r.x,y:r.y,width:t[0],height:t[1],show:!0};return e.chessMap.has(a)||e.chessMap.set(a,c),c}))},clickPiece:function(e){if(this.redGo){if("black"===e.base)return;this.indicatorPos=J[e.type].rule(e,this.chessMap)}else{if("red"===e.base)return;this.indicatorPos=J[e.type].rule(e,this.chessMap)}},clickIndicator:function(e){var t,r="".concat(e.y,",").concat(e.x);(t=this.chessMap.get(r))&&(this.chessMap.delete(r),t.show=!1),console.log("eat",t);var n=this.computPos(e.x,e.y);this.historyStep.push(R(e.piece)),e.piece.x=e.x,e.piece.y=e.y,e.piece.left=n.left,e.piece.top=n.top,this.indicatorPos=[],this.redGo=!this.redGo,console.log("this.chessMap",this.chessMap)},computPos:function(e,t){var r=this.getConfig,n=r.chessBoardGirdSize,a=r.pieceSize,c=r.chessBoardLeft,i=r.chessBoardTop;return{left:"".concat(c+e*n[0]-a/2),top:"".concat(i+t*n[1]-a/2)}},aiGo:function(){console.log("val",val)},getAlphaBeta:function(e,t,r,n,a){if(0===r)return{value:1};var c=[],i=!0,o=!1,s=void 0;try{for(var u,l=n[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){var p=Object(f["a"])(u.value,2),y=(p[0],p[1]),h=y.rule(y,this.chessMap,a);c=c.concat(h)}}catch(M){o=!0,s=M}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}var b=!0,d=!1,x=void 0;try{for(var v,g=c[Symbol.iterator]();!(b=(v=g.next()).done);b=!0){var w=v.value,m=w.piece.x,O=w.piece.y,j=w.x,P=w.y,k=this.chessMap.get(P+","+j)&&"king"===this.chessMap.get(P+","+j).type;if(this.chessMap.get(O+","+m).x=j,this.chessMap.get(O+","+m).y=P,k)return this.chessMap.get(P+","+j).x=m,this.chessMap.get(P+","+j).y=O,{key:O+","+m,x:j,y:P,value:8888};if(this.chessMap.get(O+","+m).x=m,this.chessMap.get(O+","+m).y=O,val>=t)return{key:O+","+m,x:j,y:P,value:t};if(val>e)return{key:O+","+m,x:j,y:P,value:e}}}catch(M){d=!0,x=M}finally{try{b||null==g.return||g.return()}finally{if(d)throw x}}},maxPrice:function(){}}},V=U,W=Object(i["a"])(V,p,y,!1,null,null,null),X=W.exports;n["a"].use(l["a"]);var Y=[{path:"/",name:"fights",component:X}],Z=new l["a"]({mode:"history",base:"/",routes:Y}),ee=Z,te=function(e,t){return e>=0&&e<9&&t>=0&&t<10},re=function(e,t){return e>2&&e<6&&(t>=0&&t<3||t<=9&&t>6)},ne=[{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:-1,y:0}],ae=[{type:"king",labelRed:"帥",score:100,labelBlack:"將",rule:function(e,t,r){var n,a,c,i=[],o=[],s=!0,u=!1,l=void 0;try{for(var p,y=ne[Symbol.iterator]();!(s=(p=y.next()).done);s=!0){var h=p.value,b=e.x+h.x,d=e.y+h.y;re(b,d)&&((n=t.get("".concat(d,",").concat(b)))&&n.base===e.base||i.push({x:b,y:d,price:8888,piece:e}))}}catch(k){u=!0,l=k}finally{try{s||null==y.return||y.return()}finally{if(u)throw l}}var x=!0,v=!1,g=void 0;try{for(var w,m=t[Symbol.iterator]();!(x=(w=m.next()).done);x=!0){var O=Object(f["a"])(w.value,2),j=(O[0],O[1]);"king"===j.type&&"red"===j.base&&(a=j),"king"===j.type&&"black"===j.base&&(c=j)}}catch(k){v=!0,g=k}finally{try{x||null==m.return||m.return()}finally{if(v)throw g}}if(a.x===c.x){for(var P=c.y+1;P<a.y;P++)o.push(t.has("".concat(P,",").concat(a.x)));o.every((function(e){return!1===e}))&&i.push({x:c.x,y:c.y,price:8888,piece:e},{x:a.x,y:a.y,price:8888,piece:e})}return i},defaultPosition:[{x:4,y:0,base:"black"},{x:4,y:9,base:"red"}]},{type:"pawn",score:2,labelRed:"兵",labelBlack:"卒",rule:function(e,t,r){var n=[],a="red"===e.base?e.y<5:e.y>4,c=!0,i=!1,o=void 0;try{for(var s,u=ne[Symbol.iterator]();!(c=(s=u.next()).done);c=!0){var l=s.value,p=e.x+l.x,y=e.y+l.y,f=void 0;1===l.y&&"red"===e.base||-1===l.y&&"black"===e.base||te(p,y)&&(a||0===l.x)&&((f=t.get("".concat(y,",").concat(p)))&&f.base===e.base||n.push(this.price(p,y,r,t,e)))}}catch(h){i=!0,o=h}finally{try{c||null==u.return||u.return()}finally{if(i)throw o}}return n},price:function(e,t,r,n,a){var c=[0,2,4,6,8,6,4,2,0],i=Math.abs(e-r.x)+Math.abs(t-r.y),o=c[e],s=0;0!==t&&9!==t||(s=-4);var u=i+o-s;return{x:e,y:t,price:-u,piece:a}},defaultPosition:function(){for(var e=[],t=0;t<10;t+=2)e.push({x:t,y:3,base:"black"}),e.push({x:t,y:6,base:"red"});return e}()}];n["a"].use(x["a"]);var ce,ie,oe=function(){return/mobile/gi.test(navigator.userAgent)};oe()?(ce=window.screen.width-20,ie=Math.round(ce/.9)):(ie=window.screen.height-200,ce=Math.round(.9*ie));var se=ce/2166,ue=ie/2416,le=[236.25*se,2134/9*ue],pe=le[0]-4,ye=138*se,fe=141*ue,he={width:ce,height:ie,chessBoardLeft:ye,chessBoardTop:fe,chessBoardGirdSize:le,pieceSize:pe},be=new x["a"].Store({state:{config:he,pieces:ae},mutations:{},getters:{getConfig:function(e){return e.config},getPieces:function(e){return e.pieces}},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:ee,store:be,render:function(e){return e(u)}}).$mount("#app")},"7c55":function(e,t,r){"use strict";var n=r("2395"),a=r.n(n);a.a},"98f3":function(e,t,r){},a8f1:function(e,t,r){"use strict";var n=r("bd3b"),a=r.n(n);a.a},bd3b:function(e,t,r){},d75e:function(e,t,r){},db8b:function(e,t,r){"use strict";var n=r("98f3"),a=r.n(n);a.a},fe13:function(e,t,r){"use strict";var n=r("d75e"),a=r.n(n);a.a}});
//# sourceMappingURL=app.1d43bba8.js.map